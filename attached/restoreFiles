#!/usr/bin/env bash
# Script to submit restore files from '/nowhere'

# Define colors
GREEN='\033[0;32m'
RED='\033[0;31m'
YELLOW='\033[1;33m'
NC='\033[0m' # No Color

if [ "$#" -ge 1 ]; then
    for file in "$@"; do
        filename=$(basename "$file")
        
        # Check if source file exists in /nowhere
        if [ ! -e "/nowhere/$filename" ]; then
            echo -e "${YELLOW}File '$filename' does not exist in /nowhere${NC}"
            continue
        fi
        
        # Check if destination file exists
        if [ ! -e "$file" ]; then
            echo -e "${YELLOW}File '$file' does not exist${NC}"
        fi
        
        # Check if destination directory exists
        dest_dir=$(dirname "$file")
        if [ ! -d "$dest_dir" ]; then
            echo -e "${YELLOW}Destination path '$dest_dir' does not exist${NC}"
            continue
        fi
        
        # Try to restore the file
        if mv "/nowhere/$filename" "$file" 2>/dev/null; then
            echo -e "${GREEN}File '$filename' restored successfully${NC}"
        else
            echo -e "${RED}File '$filename' not restored${NC}"
        fi
    done
else
    echo "Usage: $0 PATH1 PATH2 PATH3 ..."
fi
